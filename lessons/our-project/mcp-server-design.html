<!DOCTYPE html><html><head><meta charSet="utf-8" data-next-head=""/><meta name="viewport" content="width=device-width" data-next-head=""/><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png" data-next-head=""/><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png" data-next-head=""/><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png" data-next-head=""/><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png" data-next-head=""/><link rel="icon" type="image/x-icon" href="/images/favicon.ico" data-next-head=""/><title data-next-head="">MCP Server Design – Complete Intro to MCP</title><meta name="description" content="Brian Holt guides you through building a real MCP server for an issue tracker, including step-by-step setup (clone the app, install dependencies, create an MCP directory, and run the server) and a sample main.js that registers a database-schema resource. The tutorial emphasizes using MCP to orchestrate end-to-end tasks with Claude Desktop for conversational ticketing—addressing auth, operation order, and consistent tagging—so you can create tickets, assign users, and apply correct labels via AI." data-next-head=""/><meta name="keywords" content="MCP server,Model Context Protocol,issue tracker,Claude Desktop,AI tools,Brian Holt" data-next-head=""/><meta name="og:description" content="Brian Holt guides you through building a real MCP server for an issue tracker, including step-by-step setup (clone the app, install dependencies, create an MCP directory, and run the server) and a sample main.js that registers a database-schema resource. The tutorial emphasizes using MCP to orchestrate end-to-end tasks with Claude Desktop for conversational ticketing—addressing auth, operation order, and consistent tagging—so you can create tickets, assign users, and apply correct labels via AI." data-next-head=""/><meta name="og:title" content="MCP Server Design – Complete Intro to MCP" data-next-head=""/><meta name="og:image" content="/images/social-share-cover.jpg" data-next-head=""/><meta name="twitter:card" content="summary_large_image" data-next-head=""/><link data-next-font="size-adjust" rel="preconnect" href="/" crossorigin="anonymous"/><link rel="preload" href="/_next/static/css/086f6a648d0d9276.css" as="style"/><link rel="stylesheet" href="/_next/static/css/086f6a648d0d9276.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" noModule="" src="/_next/static/chunks/polyfills-42372ed130431b0a.js"></script><script src="/_next/static/chunks/webpack-b66ed8ba6f029a99.js" defer=""></script><script src="/_next/static/chunks/framework-2f335d22a7318891.js" defer=""></script><script src="/_next/static/chunks/main-00b4e1227fd2aa8a.js" defer=""></script><script src="/_next/static/chunks/pages/_app-b9f8acf1434dd4b3.js" defer=""></script><script src="/_next/static/chunks/pages/lessons/%5Bsection%5D/%5Bslug%5D-2115f22e4e476f99.js" defer=""></script><script src="/_next/static/G_slUKxNBRf2cik66oGLY/_buildManifest.js" defer=""></script><script src="/_next/static/G_slUKxNBRf2cik66oGLY/_ssgManifest.js" defer=""></script></head><body><script async="" defer="" src="https://a.holt.courses/latest.js"></script><div id="__next"><div class="remix-app"><header class="navbar"><h1 class="navbar-brand"><a href="/">Complete Intro to MCP</a></h1><div class="navbar-info"><a href="https://frontendmasters.com/courses/mcp/" class="cta-btn">Watch on Frontend Masters</a></div></header><div class="content-container"><div class="main"><div class="lesson-container"><div class="lesson"><div class="lesson-content"><p>We are going to do a real project now: an MCP server for an <a href="https://github.com/btholt/mcp-issue-tracker">issue tracker</a>!</p>
<blockquote>
<p>Generally I avoid mass-use of AI in my courses but I feel it worthwhile to disclose that I &quot;vibe&quot; coded this app. It felt like it fit within the theme of the course and I wanted a fairly robust app with a frontend so you could see the changes happening in real time. There also may be AI generated bugs too! Feel free to code or &quot;vibe&quot; some PRs to fix them!</p>
</blockquote>
<h2>Setup the Issue Tracker App</h2>
<p>Note: You only need to do these steps if you didn&#39;t complete the Resources lesson earlier in the course.</p>
<ol>
<li>Git clone the app locally</li>
<li>Run <code>npm install</code> in the root, frontend, and backend directories:</li>
</ol>
<pre><code class="hljs language-bash"><button class="copy-btn">Copy</button>git <span class="hljs-built_in">clone</span> https://github.com/btholt/mcp-issue-tracker.git
<span class="hljs-built_in">cd</span> mcp-issue-tracker &amp;&amp; npm i <span class="hljs-comment"># install dependencies in root directory</span>
<span class="hljs-built_in">cd</span> frontend &amp;&amp; npm i <span class="hljs-comment"># install dependencies in frontend directory</span>
<span class="hljs-built_in">cd</span> ../backend &amp;&amp; npm i <span class="hljs-comment"># install dependencies in backend directory</span>
<span class="hljs-built_in">cd</span> ../
npm run dev <span class="hljs-comment"># run dev script in root directory to start both frontend and backend servers</span>
<span class="hljs-comment"># open http://localhost:5173</span>
</code></pre><ol>
<li>Feel free to run <code>npm run dev</code> from the root directory to get both backend and frontend running and check it out at <a href="">http://localhost:5173</a></li>
<li>Create a <code>my-mcp</code> directory in the root directory (the <code>mcp</code> directory is the solution)</li>
<li>In the mcp directory run <code>npm init -y</code></li>
<li>Then run <code>npm i @modelcontextprotocol/sdk@1.16.0 zod@3.25.76</code></li>
<li>Add <code>&quot;type&quot;: &quot;module&quot;</code> to the package.json</li>
<li>Finally, create a file called main.js and put this in there.</li>
</ol>
<pre><code class="hljs language-javascript"><button class="copy-btn">Copy</button><span class="hljs-keyword">import</span> { <span class="hljs-title class_">McpServer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;@modelcontextprotocol/sdk/server/mcp.js&quot;</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">StdioServerTransport</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;@modelcontextprotocol/sdk/server/stdio.js&quot;</span>;
<span class="hljs-keyword">import</span> sqlite3 <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;sqlite3&quot;</span>;
<span class="hljs-keyword">import</span> path <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;path&quot;</span>;
<span class="hljs-keyword">import</span> { fileURLToPath } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;url&quot;</span>;

<span class="hljs-keyword">const</span> __filename = <span class="hljs-title function_">fileURLToPath</span>(<span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">url</span>);
<span class="hljs-keyword">const</span> __dirname = path.<span class="hljs-title function_">dirname</span>(__filename);

<span class="hljs-comment">// Create an MCP server</span>
<span class="hljs-keyword">const</span> server = <span class="hljs-keyword">new</span> <span class="hljs-title class_">McpServer</span>({
  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;issues-server&quot;</span>,
  <span class="hljs-attr">version</span>: <span class="hljs-string">&quot;1.0.0&quot;</span>,
});

<span class="hljs-comment">// Register the database schema resource</span>
server.<span class="hljs-title function_">registerResource</span>(
  <span class="hljs-string">&quot;database-schema&quot;</span>,
  <span class="hljs-string">&quot;schema://database&quot;</span>,
  {
    <span class="hljs-attr">title</span>: <span class="hljs-string">&quot;Database Schema&quot;</span>,
    <span class="hljs-attr">description</span>: <span class="hljs-string">&quot;SQLite schema for the issues database&quot;</span>,
    <span class="hljs-attr">mimeType</span>: <span class="hljs-string">&quot;text/plain&quot;</span>,
  },
  <span class="hljs-title function_">async</span> (uri) =&gt; {
    <span class="hljs-keyword">const</span> dbPath = path.<span class="hljs-title function_">join</span>(__dirname, <span class="hljs-string">&quot;..&quot;</span>, <span class="hljs-string">&quot;backend&quot;</span>, <span class="hljs-string">&quot;database.sqlite&quot;</span>);

    <span class="hljs-keyword">const</span> schema = <span class="hljs-keyword">await</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> db = <span class="hljs-keyword">new</span> sqlite3.<span class="hljs-title class_">Database</span>(dbPath, sqlite3.<span class="hljs-property">OPEN_READONLY</span>);

      db.<span class="hljs-title function_">all</span>(
        <span class="hljs-string">&quot;SELECT sql FROM sqlite_master WHERE type=&#x27;table&#x27; AND sql IS NOT NULL ORDER BY name&quot;</span>,
        <span class="hljs-function">(<span class="hljs-params">err, rows</span>) =&gt;</span> {
          db.<span class="hljs-title function_">close</span>();
          <span class="hljs-keyword">if</span> (err) <span class="hljs-title function_">reject</span>(err);
          <span class="hljs-keyword">else</span> <span class="hljs-title function_">resolve</span>(rows.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">row</span>) =&gt;</span> row.<span class="hljs-property">sql</span> + <span class="hljs-string">&quot;;&quot;</span>).<span class="hljs-title function_">join</span>(<span class="hljs-string">&quot;\n&quot;</span>));
        }
      );
    });

    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">contents</span>: [
        {
          <span class="hljs-attr">uri</span>: uri.<span class="hljs-property">href</span>,
          <span class="hljs-attr">mimeType</span>: <span class="hljs-string">&quot;text/plain&quot;</span>,
          <span class="hljs-attr">text</span>: schema,
        },
      ],
    };
  }
);

<span class="hljs-comment">// Start receiving messages on stdin and sending messages on stdout</span>
<span class="hljs-keyword">const</span> transport = <span class="hljs-keyword">new</span> <span class="hljs-title class_">StdioServerTransport</span>();
<span class="hljs-keyword">await</span> server.<span class="hljs-title function_">connect</span>(transport);
</code></pre><p>This will get you to a spot where we can start coding our MCP server for our issues app.</p>
<h2>The App</h2>
<p>The app is a very basic issue tracker where issues can be CRUD&#39;d. Issues have titles, IDs, assigned persons, tags, status, priority, and created by users.</p>
<p>Ideally, we can connect our app to Claude Desktop via MCP server so that we can be working with Claude and say &quot;hey, this is a good thing to track. Create a high priority ticket and assign it to Jane Smith&quot; and the LLM can just handle the rest. I&#39;m sure you can see the value of being able to interact with your issue system conversationally and in context.</p>
<p>So what all do we need to worry about?</p>
<ul>
<li>Auth. Claude needs to be able to act on behalf of us.</li>
<li>Order of operations. We need an issue to exist before we can update it.</li>
<li>Correct tags/people/etc. to assign to issues. We don&#39;t want &quot;bug&quot;, &quot;bugs&quot;, &quot;issues&quot;, &quot;prod-issue&quot;, and a trillion variations. We want one &quot;bug&quot; tag.</li>
</ul>
<p>As you can see, there&#39;s a lot to juggle here, and it&#39;s trusting an LLM a lot to just say &quot;here Claude, use the API directly&quot;. Inevitably it&#39;s going to mess up a lot. Instead of just wrapping our API directly, we&#39;re going to make an MCP server that covers entire &quot;jobs to do&quot; instead of API steps. So we&#39;re going to make a tool that &quot;creates a ticket, assigns a user, and gives a correct label to it&quot; instead of just hoping that Claude can get the sequence of API calls right.</p>
<p>Let&#39;s go give it a shot!</p>
</div><div class="lesson-links"><a href="/lessons/lets-build-mcp/future-features-of-mcp" class="prev">← Previous</a><a href="/lessons/our-project/api-based-tools" class="next">Next →</a></div></div><div class="details-bg"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="154" height="154" viewBox="0 0 154 154"><defs><clipPath id="clip-path"><rect id="Rectangle_2238" data-name="Rectangle 2238" width="154" height="154" transform="translate(9467 350)" fill="#fff" stroke="#707070" stroke-width="1"></rect></clipPath><clipPath id="clip-corner-image-active"><rect width="154" height="154"></rect></clipPath></defs><g id="corner-image-active" clip-path="url(#clip-corner-image-active)"><g id="Corner-image-active-2" data-name="Corner-image-active" transform="translate(-9467 -350)" clip-path="url(#clip-path)"><path id="Subtraction_34" data-name="Subtraction 34" d="M-3857.365,1740.766h0l-7.07-7.07,12.89-12.89v14.142l-5.818,5.818Zm-14.142-14.142h0l-7.071-7.07,27.033-27.033v14.143l-19.96,19.96Zm-14.143-14.143h0l-7.07-7.069,41.175-41.175v14.142Zm-14.142-14.142h0l-7.07-7.069,55.317-55.317v14.142Zm-14.142-14.142h0l-7.07-7.069,69.459-69.459v14.142Zm-14.142-14.142h0l-7.07-7.069,76.739-76.739h6.862v7.28Zm-14.143-14.143h0l-7.07-7.069,62.6-62.6h14.142Zm-14.142-14.142h0l-7.07-7.069,48.454-48.454h14.142Zm-14.142-14.142h0l-7.07-7.069,34.312-34.312h14.142Zm-14.142-14.142h0l-7.07-7.069,20.17-20.17h14.142Zm-14.142-14.142h0l-7.071-7.071,6.027-6.027h14.144l-13.1,13.1Zm367.24-56.114v-.909l.455.455-.453.453Z" transform="translate(13472.546 -1236.766)" fill="var(--corner-fill)"></path></g></g></svg></div></div></div></div><noscript><img src="https://a.holt.courses/noscript.gif" alt="" referrerPolicy="no-referrer-when-downgrade"/></noscript><footer class="footer"><ul class="socials"><li class="social"><a href="https://twitter.com/holtbt"><svg fill="none" height="100%" width="32" xmlns="http://www.w3.org/2000/svg" viewBox="0.254 0.25 500 451.95400000000006"><path d="M394.033.25h76.67L303.202 191.693l197.052 260.511h-154.29L225.118 294.205 86.844 452.204H10.127l179.16-204.77L.254.25H158.46l109.234 144.417zm-26.908 406.063h42.483L135.377 43.73h-45.59z" fill="var(--footer-icons)"></path></svg></a></li><li class="social"><a href="https://bsky.app/profile/brianholt.me"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -3.268 64 68.414" width="38" height="100%"><path fill="var(--footer-icons)" d="M13.873 3.805C21.21 9.332 29.103 20.537 32 26.55v15.882c0-.338-.13.044-.41.867-1.512 4.456-7.418 21.847-20.923 7.944-7.111-7.32-3.819-14.64 9.125-16.85-7.405 1.264-15.73-.825-18.014-9.015C1.12 23.022 0 8.51 0 6.55 0-3.268 8.579-.182 13.873 3.805zm36.254 0C42.79 9.332 34.897 20.537 32 26.55v15.882c0-.338.13.044.41.867 1.512 4.456 7.418 21.847 20.923 7.944 7.111-7.32 3.819-14.64-9.125-16.85 7.405 1.264 15.73-.825 18.014-9.015C62.88 23.022 64 8.51 64 6.55c0-9.818-8.578-6.732-13.873-2.745z"></path></svg></a></li><li class="social"><a href="https://github.com/btholt"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="32" height="32" viewBox="0 0 32 32"><defs><clipPath id="clip-github-social"><rect width="32" height="32"></rect></clipPath></defs><g id="github-social" clip-path="url(#clip-github-social)"><g id="Group_272" data-name="Group 272" transform="translate(13522.5 -6994)"><path id="Subtraction_33" data-name="Subtraction 33" d="M-24967.5,8041a15.9,15.9,0,0,1-11.312-4.688A15.893,15.893,0,0,1-24983.5,8025a15.893,15.893,0,0,1,4.689-11.315A15.894,15.894,0,0,1-24967.5,8009a15.894,15.894,0,0,1,11.313,4.686A15.893,15.893,0,0,1-24951.5,8025a15.893,15.893,0,0,1-4.689,11.313A15.9,15.9,0,0,1-24967.5,8041Zm-3.781-4.571h0v3.918h7.895v-6.665a1.836,1.836,0,0,0-1.2-1.718c5.1-.617,7.467-2.975,7.467-7.424a7.176,7.176,0,0,0-1.637-4.728,6.74,6.74,0,0,0,.275-1.812,4.34,4.34,0,0,0-.52-2.452.574.574,0,0,0-.359-.1c-1.061,0-3.465,1.411-3.936,1.694a16.644,16.644,0,0,0-4.2-.489,16.379,16.379,0,0,0-3.969.445c-.846-.5-2.91-1.649-3.859-1.649a.566.566,0,0,0-.354.095,4.3,4.3,0,0,0-.521,2.452,6.7,6.7,0,0,0,.244,1.718,7.346,7.346,0,0,0-1.6,4.822,7.263,7.263,0,0,0,1.533,4.985c1.193,1.359,3.115,2.165,5.871,2.464a1.826,1.826,0,0,0-1.129,1.693v.5h0l-.006,0a7.121,7.121,0,0,1-2.033.363,2.608,2.608,0,0,1-.965-.158,4.438,4.438,0,0,1-1.836-1.881,2.361,2.361,0,0,0-1.248-1.091,3.472,3.472,0,0,0-1.217-.3.584.584,0,0,0-.545.224.282.282,0,0,0,.027.367,1.875,1.875,0,0,0,.447.307,4.732,4.732,0,0,1,.561.355,10.726,10.726,0,0,1,1.682,2.755c.043.092.078.163.105.217a3.876,3.876,0,0,0,2.42,1.185,6.036,6.036,0,0,0,.607.025c.875,0,1.988-.124,2-.125Z" transform="translate(11461 -1015)" fill="var(--footer-icons)"></path><g id="Ellipse_670" data-name="Ellipse 670" transform="translate(-13522.5 6994)" fill="none" stroke="var(--footer-icons)" stroke-width="1"><circle cx="16" cy="16" r="16" stroke="none"></circle><circle cx="16" cy="16" r="15.5" fill="none"></circle></g></g></g></svg></a></li><li class="social"><a href="https://linkedin.com/in/btholt"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="32" height="32" viewBox="0 0 32 32"><defs><clipPath id="clip-linkedin-social"><rect width="32" height="32"></rect></clipPath></defs><g id="linkedin-social" clip-path="url(#clip-linkedin-social)"><g id="Group_270" data-name="Group 270" transform="translate(-86.349 -633.073)"><path id="Path_375" data-name="Path 375" d="M115.789,633.073a2.324,2.324,0,0,1,1.682.676,2.194,2.194,0,0,1,.695,1.627V662.8a2.131,2.131,0,0,1-.695,1.609,2.314,2.314,0,0,1-1.646.659H88.69a2.307,2.307,0,0,1-1.646-.659,2.128,2.128,0,0,1-.695-1.609V635.376a2.19,2.19,0,0,1,.695-1.627,2.322,2.322,0,0,1,1.682-.676h27.063Zm-20.224,9.672a2.561,2.561,0,0,0,0-3.584,2.658,2.658,0,0,0-1.938-.712,2.724,2.724,0,0,0-1.957.712,2.371,2.371,0,0,0-.75,1.792,2.4,2.4,0,0,0,.731,1.792,2.605,2.605,0,0,0,1.9.713h.037A2.7,2.7,0,0,0,95.565,642.745ZM96,645.434H91.213V659.88H96Zm17.3,6.144a7.007,7.007,0,0,0-1.573-4.9,5.68,5.68,0,0,0-6.839-.769,5.663,5.663,0,0,0-1.426,1.573v-2.048H98.674q.036.841,0,7.717v6.728h4.791V651.8a3.592,3.592,0,0,1,.146-1.17,2.913,2.913,0,0,1,.878-1.206,2.429,2.429,0,0,1,1.609-.549,2.108,2.108,0,0,1,1.865.914,4.265,4.265,0,0,1,.549,2.341v7.752H113.3Z" fill="var(--footer-icons)"></path></g></g></svg></a></li><li class="social"><div class="terms"><p>Content Licensed Under CC-BY-NC-4.0</p><p>Code Samples and Exercises Licensed Under Apache 2.0</p><p>Site Designed by<!-- --> <a href="https://www.alexdanielson.com/">Alex Danielson</a></p></div></li></ul><div class="theme-icons"><button aria-label="Activate dark mode" title="Activate dark mode" class="theme-toggle"><svg xmlns="http://www.w3.org/2000/svg" width="36px" height="100%" viewBox="0 -960 960 960" fill="var(--text-footer)" role="img"><title>Dark Mode Icon</title><path d="M480-120q-150 0-255-105T120-480q0-150 105-255t255-105q14 0 27.5 1t26.5 3q-41 29-65.5 75.5T444-660q0 90 63 153t153 63q55 0 101-24.5t75-65.5q2 13 3 26.5t1 27.5q0 150-105 255T480-120Zm0-80q88 0 158-48.5T740-375q-20 5-40 8t-40 3q-123 0-209.5-86.5T364-660q0-20 3-40t8-40q-78 32-126.5 102T200-480q0 116 82 198t198 82Z"></path></svg></button></div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"attributes":{"title":"MCP Server Design","description":"Brian Holt guides you through building a real MCP server for an issue tracker, including step-by-step setup (clone the app, install dependencies, create an MCP directory, and run the server) and a sample main.js that registers a database-schema resource. The tutorial emphasizes using MCP to orchestrate end-to-end tasks with Claude Desktop for conversational ticketing—addressing auth, operation order, and consistent tagging—so you can create tickets, assign users, and apply correct labels via AI.","keywords":["MCP server","Model Context Protocol","issue tracker","Claude Desktop","AI tools","Brian Holt"]},"html":"\u003cp\u003eWe are going to do a real project now: an MCP server for an \u003ca href=\"https://github.com/btholt/mcp-issue-tracker\"\u003eissue tracker\u003c/a\u003e!\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eGenerally I avoid mass-use of AI in my courses but I feel it worthwhile to disclose that I \u0026quot;vibe\u0026quot; coded this app. It felt like it fit within the theme of the course and I wanted a fairly robust app with a frontend so you could see the changes happening in real time. There also may be AI generated bugs too! Feel free to code or \u0026quot;vibe\u0026quot; some PRs to fix them!\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch2\u003eSetup the Issue Tracker App\u003c/h2\u003e\n\u003cp\u003eNote: You only need to do these steps if you didn\u0026#39;t complete the Resources lesson earlier in the course.\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eGit clone the app locally\u003c/li\u003e\n\u003cli\u003eRun \u003ccode\u003enpm install\u003c/code\u003e in the root, frontend, and backend directories:\u003c/li\u003e\n\u003c/ol\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003e\u003cbutton class=\"copy-btn\"\u003eCopy\u003c/button\u003egit \u003cspan class=\"hljs-built_in\"\u003eclone\u003c/span\u003e https://github.com/btholt/mcp-issue-tracker.git\n\u003cspan class=\"hljs-built_in\"\u003ecd\u003c/span\u003e mcp-issue-tracker \u0026amp;\u0026amp; npm i \u003cspan class=\"hljs-comment\"\u003e# install dependencies in root directory\u003c/span\u003e\n\u003cspan class=\"hljs-built_in\"\u003ecd\u003c/span\u003e frontend \u0026amp;\u0026amp; npm i \u003cspan class=\"hljs-comment\"\u003e# install dependencies in frontend directory\u003c/span\u003e\n\u003cspan class=\"hljs-built_in\"\u003ecd\u003c/span\u003e ../backend \u0026amp;\u0026amp; npm i \u003cspan class=\"hljs-comment\"\u003e# install dependencies in backend directory\u003c/span\u003e\n\u003cspan class=\"hljs-built_in\"\u003ecd\u003c/span\u003e ../\nnpm run dev \u003cspan class=\"hljs-comment\"\u003e# run dev script in root directory to start both frontend and backend servers\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e# open http://localhost:5173\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003col\u003e\n\u003cli\u003eFeel free to run \u003ccode\u003enpm run dev\u003c/code\u003e from the root directory to get both backend and frontend running and check it out at \u003ca href=\"\"\u003ehttp://localhost:5173\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eCreate a \u003ccode\u003emy-mcp\u003c/code\u003e directory in the root directory (the \u003ccode\u003emcp\u003c/code\u003e directory is the solution)\u003c/li\u003e\n\u003cli\u003eIn the mcp directory run \u003ccode\u003enpm init -y\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eThen run \u003ccode\u003enpm i @modelcontextprotocol/sdk@1.16.0 zod@3.25.76\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eAdd \u003ccode\u003e\u0026quot;type\u0026quot;: \u0026quot;module\u0026quot;\u003c/code\u003e to the package.json\u003c/li\u003e\n\u003cli\u003eFinally, create a file called main.js and put this in there.\u003c/li\u003e\n\u003c/ol\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e\u003cbutton class=\"copy-btn\"\u003eCopy\u003c/button\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eMcpServer\u003c/span\u003e } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;@modelcontextprotocol/sdk/server/mcp.js\u0026quot;\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eStdioServerTransport\u003c/span\u003e } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;@modelcontextprotocol/sdk/server/stdio.js\u0026quot;\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e sqlite3 \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;sqlite3\u0026quot;\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e path \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;path\u0026quot;\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { fileURLToPath } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;url\u0026quot;\u003c/span\u003e;\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e __filename = \u003cspan class=\"hljs-title function_\"\u003efileURLToPath\u003c/span\u003e(\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003emeta\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eurl\u003c/span\u003e);\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e __dirname = path.\u003cspan class=\"hljs-title function_\"\u003edirname\u003c/span\u003e(__filename);\n\n\u003cspan class=\"hljs-comment\"\u003e// Create an MCP server\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e server = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eMcpServer\u003c/span\u003e({\n  \u003cspan class=\"hljs-attr\"\u003ename\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;issues-server\u0026quot;\u003c/span\u003e,\n  \u003cspan class=\"hljs-attr\"\u003eversion\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;1.0.0\u0026quot;\u003c/span\u003e,\n});\n\n\u003cspan class=\"hljs-comment\"\u003e// Register the database schema resource\u003c/span\u003e\nserver.\u003cspan class=\"hljs-title function_\"\u003eregisterResource\u003c/span\u003e(\n  \u003cspan class=\"hljs-string\"\u003e\u0026quot;database-schema\u0026quot;\u003c/span\u003e,\n  \u003cspan class=\"hljs-string\"\u003e\u0026quot;schema://database\u0026quot;\u003c/span\u003e,\n  {\n    \u003cspan class=\"hljs-attr\"\u003etitle\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;Database Schema\u0026quot;\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003edescription\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;SQLite schema for the issues database\u0026quot;\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003emimeType\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;text/plain\u0026quot;\u003c/span\u003e,\n  },\n  \u003cspan class=\"hljs-title function_\"\u003easync\u003c/span\u003e (uri) =\u0026gt; {\n    \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e dbPath = path.\u003cspan class=\"hljs-title function_\"\u003ejoin\u003c/span\u003e(__dirname, \u003cspan class=\"hljs-string\"\u003e\u0026quot;..\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;backend\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;database.sqlite\u0026quot;\u003c/span\u003e);\n\n    \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e schema = \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003ePromise\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003eresolve, reject\u003c/span\u003e) =\u0026gt;\u003c/span\u003e {\n      \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e db = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e sqlite3.\u003cspan class=\"hljs-title class_\"\u003eDatabase\u003c/span\u003e(dbPath, sqlite3.\u003cspan class=\"hljs-property\"\u003eOPEN_READONLY\u003c/span\u003e);\n\n      db.\u003cspan class=\"hljs-title function_\"\u003eall\u003c/span\u003e(\n        \u003cspan class=\"hljs-string\"\u003e\u0026quot;SELECT sql FROM sqlite_master WHERE type=\u0026#x27;table\u0026#x27; AND sql IS NOT NULL ORDER BY name\u0026quot;\u003c/span\u003e,\n        \u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003eerr, rows\u003c/span\u003e) =\u0026gt;\u003c/span\u003e {\n          db.\u003cspan class=\"hljs-title function_\"\u003eclose\u003c/span\u003e();\n          \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (err) \u003cspan class=\"hljs-title function_\"\u003ereject\u003c/span\u003e(err);\n          \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eresolve\u003c/span\u003e(rows.\u003cspan class=\"hljs-title function_\"\u003emap\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003erow\u003c/span\u003e) =\u0026gt;\u003c/span\u003e row.\u003cspan class=\"hljs-property\"\u003esql\u003c/span\u003e + \u003cspan class=\"hljs-string\"\u003e\u0026quot;;\u0026quot;\u003c/span\u003e).\u003cspan class=\"hljs-title function_\"\u003ejoin\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;\\n\u0026quot;\u003c/span\u003e));\n        }\n      );\n    });\n\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e {\n      \u003cspan class=\"hljs-attr\"\u003econtents\u003c/span\u003e: [\n        {\n          \u003cspan class=\"hljs-attr\"\u003euri\u003c/span\u003e: uri.\u003cspan class=\"hljs-property\"\u003ehref\u003c/span\u003e,\n          \u003cspan class=\"hljs-attr\"\u003emimeType\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;text/plain\u0026quot;\u003c/span\u003e,\n          \u003cspan class=\"hljs-attr\"\u003etext\u003c/span\u003e: schema,\n        },\n      ],\n    };\n  }\n);\n\n\u003cspan class=\"hljs-comment\"\u003e// Start receiving messages on stdin and sending messages on stdout\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e transport = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eStdioServerTransport\u003c/span\u003e();\n\u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e server.\u003cspan class=\"hljs-title function_\"\u003econnect\u003c/span\u003e(transport);\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThis will get you to a spot where we can start coding our MCP server for our issues app.\u003c/p\u003e\n\u003ch2\u003eThe App\u003c/h2\u003e\n\u003cp\u003eThe app is a very basic issue tracker where issues can be CRUD\u0026#39;d. Issues have titles, IDs, assigned persons, tags, status, priority, and created by users.\u003c/p\u003e\n\u003cp\u003eIdeally, we can connect our app to Claude Desktop via MCP server so that we can be working with Claude and say \u0026quot;hey, this is a good thing to track. Create a high priority ticket and assign it to Jane Smith\u0026quot; and the LLM can just handle the rest. I\u0026#39;m sure you can see the value of being able to interact with your issue system conversationally and in context.\u003c/p\u003e\n\u003cp\u003eSo what all do we need to worry about?\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eAuth. Claude needs to be able to act on behalf of us.\u003c/li\u003e\n\u003cli\u003eOrder of operations. We need an issue to exist before we can update it.\u003c/li\u003e\n\u003cli\u003eCorrect tags/people/etc. to assign to issues. We don\u0026#39;t want \u0026quot;bug\u0026quot;, \u0026quot;bugs\u0026quot;, \u0026quot;issues\u0026quot;, \u0026quot;prod-issue\u0026quot;, and a trillion variations. We want one \u0026quot;bug\u0026quot; tag.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eAs you can see, there\u0026#39;s a lot to juggle here, and it\u0026#39;s trusting an LLM a lot to just say \u0026quot;here Claude, use the API directly\u0026quot;. Inevitably it\u0026#39;s going to mess up a lot. Instead of just wrapping our API directly, we\u0026#39;re going to make an MCP server that covers entire \u0026quot;jobs to do\u0026quot; instead of API steps. So we\u0026#39;re going to make a tool that \u0026quot;creates a ticket, assigns a user, and gives a correct label to it\u0026quot; instead of just hoping that Claude can get the sequence of API calls right.\u003c/p\u003e\n\u003cp\u003eLet\u0026#39;s go give it a shot!\u003c/p\u003e\n","markdown":"\nWe are going to do a real project now: an MCP server for an [issue tracker][issue]!\n\n\u003e Generally I avoid mass-use of AI in my courses but I feel it worthwhile to disclose that I \"vibe\" coded this app. It felt like it fit within the theme of the course and I wanted a fairly robust app with a frontend so you could see the changes happening in real time. There also may be AI generated bugs too! Feel free to code or \"vibe\" some PRs to fix them!\n\n## Setup the Issue Tracker App\n\nNote: You only need to do these steps if you didn't complete the Resources lesson earlier in the course.\n\n1. Git clone the app locally\n1. Run `npm install` in the root, frontend, and backend directories:\n\n```bash\ngit clone https://github.com/btholt/mcp-issue-tracker.git\ncd mcp-issue-tracker \u0026\u0026 npm i # install dependencies in root directory\ncd frontend \u0026\u0026 npm i # install dependencies in frontend directory\ncd ../backend \u0026\u0026 npm i # install dependencies in backend directory\ncd ../\nnpm run dev # run dev script in root directory to start both frontend and backend servers\n# open http://localhost:5173\n```\n\n1. Feel free to run `npm run dev` from the root directory to get both backend and frontend running and check it out at [http://localhost:5173]()\n1. Create a `my-mcp` directory in the root directory (the `mcp` directory is the solution)\n1. In the mcp directory run `npm init -y`\n1. Then run `npm i @modelcontextprotocol/sdk@1.16.0 zod@3.25.76`\n1. Add `\"type\": \"module\"` to the package.json\n1. Finally, create a file called main.js and put this in there.\n\n```javascript\nimport { McpServer } from \"@modelcontextprotocol/sdk/server/mcp.js\";\nimport { StdioServerTransport } from \"@modelcontextprotocol/sdk/server/stdio.js\";\nimport sqlite3 from \"sqlite3\";\nimport path from \"path\";\nimport { fileURLToPath } from \"url\";\n\nconst __filename = fileURLToPath(import.meta.url);\nconst __dirname = path.dirname(__filename);\n\n// Create an MCP server\nconst server = new McpServer({\n  name: \"issues-server\",\n  version: \"1.0.0\",\n});\n\n// Register the database schema resource\nserver.registerResource(\n  \"database-schema\",\n  \"schema://database\",\n  {\n    title: \"Database Schema\",\n    description: \"SQLite schema for the issues database\",\n    mimeType: \"text/plain\",\n  },\n  async (uri) =\u003e {\n    const dbPath = path.join(__dirname, \"..\", \"backend\", \"database.sqlite\");\n\n    const schema = await new Promise((resolve, reject) =\u003e {\n      const db = new sqlite3.Database(dbPath, sqlite3.OPEN_READONLY);\n\n      db.all(\n        \"SELECT sql FROM sqlite_master WHERE type='table' AND sql IS NOT NULL ORDER BY name\",\n        (err, rows) =\u003e {\n          db.close();\n          if (err) reject(err);\n          else resolve(rows.map((row) =\u003e row.sql + \";\").join(\"\\n\"));\n        }\n      );\n    });\n\n    return {\n      contents: [\n        {\n          uri: uri.href,\n          mimeType: \"text/plain\",\n          text: schema,\n        },\n      ],\n    };\n  }\n);\n\n// Start receiving messages on stdin and sending messages on stdout\nconst transport = new StdioServerTransport();\nawait server.connect(transport);\n```\n\nThis will get you to a spot where we can start coding our MCP server for our issues app.\n\n## The App\n\nThe app is a very basic issue tracker where issues can be CRUD'd. Issues have titles, IDs, assigned persons, tags, status, priority, and created by users.\n\nIdeally, we can connect our app to Claude Desktop via MCP server so that we can be working with Claude and say \"hey, this is a good thing to track. Create a high priority ticket and assign it to Jane Smith\" and the LLM can just handle the rest. I'm sure you can see the value of being able to interact with your issue system conversationally and in context.\n\nSo what all do we need to worry about?\n\n- Auth. Claude needs to be able to act on behalf of us.\n- Order of operations. We need an issue to exist before we can update it.\n- Correct tags/people/etc. to assign to issues. We don't want \"bug\", \"bugs\", \"issues\", \"prod-issue\", and a trillion variations. We want one \"bug\" tag.\n\nAs you can see, there's a lot to juggle here, and it's trusting an LLM a lot to just say \"here Claude, use the API directly\". Inevitably it's going to mess up a lot. Instead of just wrapping our API directly, we're going to make an MCP server that covers entire \"jobs to do\" instead of API steps. So we're going to make a tool that \"creates a ticket, assigns a user, and gives a correct label to it\" instead of just hoping that Claude can get the sequence of API calls right.\n\nLet's go give it a shot!\n\n[issue]: https://github.com/btholt/mcp-issue-tracker\n","slug":"mcp-server-design","title":"MCP Server Design","section":"Our Project","icon":"screwdriver-wrench","filePath":"/home/runner/work/complete-intro-to-mcp/complete-intro-to-mcp/lessons/05-our-project/A-mcp-server-design.md","nextSlug":"/lessons/our-project/api-based-tools","prevSlug":"/lessons/lets-build-mcp/future-features-of-mcp"}},"__N_SSG":true},"page":"/lessons/[section]/[slug]","query":{"section":"our-project","slug":"mcp-server-design"},"buildId":"G_slUKxNBRf2cik66oGLY","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>